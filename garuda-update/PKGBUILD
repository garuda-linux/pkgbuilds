# Maintainer: TNE <tne@garudalinux.org>
# Maintainer: dr460nf1r3 <dr460nf1r3 at garudalinux dot org>

pkgname=garuda-update
pkgdesc="The Garuda Linux update command, in a separate package to allow separate updating"
pkgver=5.5.0
pkgrel=1
arch=('any')
license=('GPL')
depends=('coreutils' 'sed' 'gawk' 'pacman' 'wget')
backup=(etc/garuda/garuda-update/config)
source=("auto-pacman"
  "config"
  "garuda-update"
  "help"
  "logrotate"
  "main-update"
  "update-helper-scripts")
sha512sums=('294a3a2a97928634540a35cfe294985ae27ad8a779faaee60410fca4d171ed6ddd002f707c487dc333e82fd648c8bb1b43056b84f131acd745313b158ae235a3'
  'ae8a65873260bbbf94e6aac4eb679e85765227149c0603fc68aa44e6cffd2cf8c9d2f8b1c6c2cd9be5783d4eaf0b666347c51a368d4c1894d1838dcebe73e55a'
  'efcaf0035ad4722c4528d8796c757c50f774bc9397fa53e5ab103ea5500397e1a84a178799545565f944c2786a3a4ac0774edfc5f4d97a143b47d4d8237a6d97'
  '62067eb31900bd38f2b0a1b079b6ad64f3f482ce8969101cedd0dd369c0de8da8f1b4952d91144852e92675091726d730903718f941da36667684513e8e2d495'
  'fd112c212c43d631740be11064e1fd4cc3023d0951e945445173def152e8930189575654ddac0eb34ffd6a2eb5670c47993aeda66ab8fa089583ec973026e7de'
  '34ad6af38556a3bf40263bce38dc6a5e5db26a0fc1b2656623b38960aaad4ec3ce55ee08351f93eb317d8de227ccb0cda3239dbf9ea6299e813f473e78f6c1d8'
  'ac651d859a85742cdb400514d507844ec2203134efc6ec862ff03b182661e23432dbf36a3b3544e404436c18a77fb93077e39e6b0b421a356f56a2efef95e7bd')
install=garuda-update.install

package() {
  install -Dm755 garuda-update "$pkgdir"/usr/bin/garuda-update
  ln -s /usr/bin/garuda-update "$pkgdir"/usr/bin/update
  install -Dm644 config "$pkgdir"/etc/garuda/garuda-update/config
  install -Dm644 logrotate "$pkgdir"/etc/logrotate.d/garuda-update
  install -Dm755 auto-pacman "$pkgdir"/usr/lib/garuda/garuda-update/auto-pacman
  install -Dm755 help "$pkgdir"/usr/lib/garuda/garuda-update/help
  install -Dm755 main-update "$pkgdir"/usr/lib/garuda/garuda-update/main-update
  install -Dm755 update-helper-scripts "$pkgdir"/usr/lib/garuda/garuda-update/update-helper-scripts
}
